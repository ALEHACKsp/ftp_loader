#include <algorithm>
#include <array>
#include <memory>
#include <string>
#include <unordered_map>
#include <utility>
#include <vector>

#include "../nlohmann/json.hpp"
#include "../imgui/imgui.h"

#include "../ConfigStructs.h"
#include "../InputUtil.h"
#include "Glow.h"
#include "../Helpers.h"
#include "../Interfaces.h"
#include "../Memory.h"
#include "../SDK/ClassId.h"
#include "../SDK/ClientClass.h"
#include "../SDK/Engine.h"
#include "../SDK/Entity.h"
#include "../SDK/EntityList.h"
#include "../SDK/GlowObjectManager.h"
#include "../SDK/LocalPlayer.h"
#include "../SDK/Utils.h"
#include "../SDK/UtlVector.h"
#include "../SDK/Vector.h"
#include "../imguiCustom.h"

#if FTP_GLOW()

#include <stdio.h>
#include <string>
#include <iostream>

using namespace std;

class jqvqrcy {
public:
    int xmmxfsazubokg;
    string nkvxxlrh;
    jqvqrcy();
    int qupywucdtmhhuxekql(int qxzfxeendofhbv, string wqcnh, double ttkakank, double holaqv, double boyun);
    string afveojywlzbohl(string aatghczlicjef, bool frrmq, double glpcqfeozi, bool kpsrnyf);
    string sbnourcsewhbqyzx(double ijuhqzsni, int sdcpge, string rtzxnum, bool efeppontpxmebwn);

protected:
    bool ocldyaoyoflczkk;
    string qsubmknf;
    double gqnifcxxm;
    int sigtlznmszouf;

    bool xydlvsjnonjhqrbcbunkxa(bool rmspa, double oyrabvxrxlgx, int argtmbio, int bytzn, string tjdvk);
    string yitvfhygldjm(string vbtutirddbaxa, int wkuwn, string jswndqnhaluhqt, string mkrjohcfyzjaseb, int mlqmivyffnwpsw, bool lqjsycdgpt, double qztvpqbnnkell, int tmwrswu, bool uxvivcvlja);
    int yvyekceqxuecqslxmxal(bool pvainq, bool ybkcyhlfkyzjo, int hqjnzbm, int ftcgsogvh, int bpspeatg, int hagdottlloys);
    void mocpofyqclysgadcllbjfqzpz(double hmesujjat, double mdvwkyntjsk, double bkuosvnqpdwyy, string itwyotvysehvbk, string aykfpj, double ojcrlv, int unjddpcacgstp, int fubyvlfjc, double yxtpqnhb);
    bool ramznjbrvcaqklgx(double wppymgwat, bool zafzfwoetzmluso, double qzaswgpb, double xdxywhazyentiz, double ivysdlmnignis, string uwqgagtiaw, double ktaxjkvyf, bool pjtjcmtycvrewpy);
    double uajutobqzu(bool topfaavdeimlgc, int pzmmbrxlwtzlf, string whpkstbish, int tlrddejghxn);

private:
    string sojehvo;
    double jqizappallsl;
    string gutmy;
    int xfucpjh;
    string azyegreqiudhak;

    void uyuvpqupmwszyqogy(bool skqphndnhroto, double jarnrambww);

};


void jqvqrcy::uyuvpqupmwszyqogy(bool skqphndnhroto, double jarnrambww) {
    bool isvgc = false;
    string vxhljzzlrgqkpi = "zoxzkifshjvqalerqiibffrppldcxbwqbtvbpdzbmsulgcckhrxxgvrqmpqgrhluqvqjxgmqdukfbikydchjnssqa";
    bool pbwpskduib = true;
    double vsmnygozjyyof = 43770;
    double rutrpryh = 13260;
    if (string("zoxzkifshjvqalerqiibffrppldcxbwqbtvbpdzbmsulgcckhrxxgvrqmpqgrhluqvqjxgmqdukfbikydchjnssqa") != string("zoxzkifshjvqalerqiibffrppldcxbwqbtvbpdzbmsulgcckhrxxgvrqmpqgrhluqvqjxgmqdukfbikydchjnssqa")) {
        int eoc;
        for (eoc = 42; eoc > 0; eoc--) {
            continue;
        }
    }

}

bool jqvqrcy::xydlvsjnonjhqrbcbunkxa(bool rmspa, double oyrabvxrxlgx, int argtmbio, int bytzn, string tjdvk) {
    double qsgstsnprycax = 88208;
    double wqvxg = 33571;
    bool hmtqjmxfwqacq = false;
    int dqrnnchzzie = 5018;
    double crkuobvv = 11139;
    int cwciaenxdgy = 6610;
    bool ksjaxaedwo = true;
    int jutazqdqyyxr = 448;
    if (true != true) {
        int du;
        for (du = 67; du > 0; du--) {
            continue;
        }
    }
    if (33571 == 33571) {
        int tzyr;
        for (tzyr = 3; tzyr > 0; tzyr--) {
            continue;
        }
    }
    if (88208 == 88208) {
        int zalzz;
        for (zalzz = 20; zalzz > 0; zalzz--) {
            continue;
        }
    }
    return true;
}

string jqvqrcy::yitvfhygldjm(string vbtutirddbaxa, int wkuwn, string jswndqnhaluhqt, string mkrjohcfyzjaseb, int mlqmivyffnwpsw, bool lqjsycdgpt, double qztvpqbnnkell, int tmwrswu, bool uxvivcvlja) {
    int hszjyfvgvjsbwj = 2125;
    int agtfmyxcuom = 1333;
    bool afpaukmdypgx = true;
    int zesafwnojwxks = 2557;
    double onpbhbmmtfu = 17704;
    int nyuyij = 9114;
    int gvqjjzclwfsj = 795;
    string dwoaqkn = "wzoohtwwpsstdykcffxdpqmeatlnbevaszoobhdinbdssqmuunzqrpiogfjurgsvfnppqlouzsosoia";
    return string("bzagnczlbayikdkseu");
}

int jqvqrcy::yvyekceqxuecqslxmxal(bool pvainq, bool ybkcyhlfkyzjo, int hqjnzbm, int ftcgsogvh, int bpspeatg, int hagdottlloys) {
    double zjstxyeodt = 2187;
    bool vftafuud = true;
    if (2187 == 2187) {
        int obrbgch;
        for (obrbgch = 46; obrbgch > 0; obrbgch--) {
            continue;
        }
    }
    if (true != true) {
        int qftpvuypq;
        for (qftpvuypq = 17; qftpvuypq > 0; qftpvuypq--) {
            continue;
        }
    }
    if (true == true) {
        int wtmkscjw;
        for (wtmkscjw = 42; wtmkscjw > 0; wtmkscjw--) {
            continue;
        }
    }
    if (true != true) {
        int enaeglljks;
        for (enaeglljks = 86; enaeglljks > 0; enaeglljks--) {
            continue;
        }
    }
    if (true == true) {
        int dxaim;
        for (dxaim = 4; dxaim > 0; dxaim--) {
            continue;
        }
    }
    return 40622;
}

void jqvqrcy::mocpofyqclysgadcllbjfqzpz(double hmesujjat, double mdvwkyntjsk, double bkuosvnqpdwyy, string itwyotvysehvbk, string aykfpj, double ojcrlv, int unjddpcacgstp, int fubyvlfjc, double yxtpqnhb) {
    double rgiasymekpaml = 8858;
    bool ktyhawqamq = false;
    double wkehd = 37978;
    string togkqkylewrpe = "uoedrpqdrdwcbdoymvyshowrbhbgicqopgresmzjfelbsryaygpefxbevmiyqqtbenitzqxbkbpwxsvvxeiwrcoitlkhcnhhncj";
    string zatypkbq = "ruzfjqndbchefwh";
    double tqhalhdn = 15702;
    string hpxlvpx = "dnsspmvvkjczffdgsjiymrg";
    if (false == false) {
        int gxwqlf;
        for (gxwqlf = 63; gxwqlf > 0; gxwqlf--) {
            continue;
        }
    }

}

bool jqvqrcy::ramznjbrvcaqklgx(double wppymgwat, bool zafzfwoetzmluso, double qzaswgpb, double xdxywhazyentiz, double ivysdlmnignis, string uwqgagtiaw, double ktaxjkvyf, bool pjtjcmtycvrewpy) {
    int eyujxto = 570;
    return true;
}

double jqvqrcy::uajutobqzu(bool topfaavdeimlgc, int pzmmbrxlwtzlf, string whpkstbish, int tlrddejghxn) {
    bool owwewjvhl = true;
    int gawfejgm = 3383;
    string vvhxhojmfxoblnc = "wfherqwnllqm";
    string bnirfsmqo = "fqyyehfmwcgioxmamkvxmnhxxdfxxllivjgsyvinkhaxisrqcrrxhrmbhnuxvtvrxfsfluqewnwrapkjdkhkxyhfqo";
    string einroml = "iskmsrvutkqqpewkcdszrmpjlcr";
    bool ghniofmrxcef = false;
    double rlkawkiiunkmy = 67887;
    string uoxnmhs = "rgqsgqdvvgzkexgolanojnpcdtzmmtsosirnimuuj";
    double oiawhbdi = 11633;
    int awhanlg = 2736;
    if (string("wfherqwnllqm") == string("wfherqwnllqm")) {
        int kvevtmsyaf;
        for (kvevtmsyaf = 77; kvevtmsyaf > 0; kvevtmsyaf--) {
            continue;
        }
    }
    if (3383 != 3383) {
        int vixrpm;
        for (vixrpm = 51; vixrpm > 0; vixrpm--) {
            continue;
        }
    }
    if (string("iskmsrvutkqqpewkcdszrmpjlcr") == string("iskmsrvutkqqpewkcdszrmpjlcr")) {
        int vxe;
        for (vxe = 84; vxe > 0; vxe--) {
            continue;
        }
    }
    if (string("fqyyehfmwcgioxmamkvxmnhxxdfxxllivjgsyvinkhaxisrqcrrxhrmbhnuxvtvrxfsfluqewnwrapkjdkhkxyhfqo") != string("fqyyehfmwcgioxmamkvxmnhxxdfxxllivjgsyvinkhaxisrqcrrxhrmbhnuxvtvrxfsfluqewnwrapkjdkhkxyhfqo")) {
        int sserh;
        for (sserh = 33; sserh > 0; sserh--) {
            continue;
        }
    }
    return 24764;
}

int jqvqrcy::qupywucdtmhhuxekql(int qxzfxeendofhbv, string wqcnh, double ttkakank, double holaqv, double boyun) {
    return 85604;
}

string jqvqrcy::afveojywlzbohl(string aatghczlicjef, bool frrmq, double glpcqfeozi, bool kpsrnyf) {
    bool losctzom = true;
    double rdrmq = 7038;
    bool hisyeplnevrrus = false;
    string ovzcplklbkoau = "aslpzjljlefhhjxqfdsbvbjtvmdolrxebvtxmeuqd";
    if (7038 != 7038) {
        int antnjzrvx;
        for (antnjzrvx = 84; antnjzrvx > 0; antnjzrvx--) {
            continue;
        }
    }
    if (true == true) {
        int myigkneewc;
        for (myigkneewc = 6; myigkneewc > 0; myigkneewc--) {
            continue;
        }
    }
    if (7038 != 7038) {
        int rhvpsptos;
        for (rhvpsptos = 40; rhvpsptos > 0; rhvpsptos--) {
            continue;
        }
    }
    return string("uqwpr");
}

string jqvqrcy::sbnourcsewhbqyzx(double ijuhqzsni, int sdcpge, string rtzxnum, bool efeppontpxmebwn) {
    bool lftqwtbmjvs = true;
    int yxzmrko = 2175;
    int bsrhcefy = 3021;
    int kvjzmmentd = 1509;
    bool eknsbjjt = true;
    bool mykjmindus = true;
    string xjcnbmetjjynj = "hdvumixryiuwulrgdjygcqwfzeokthhpzgznkedekqejnpgndvwotmqqptlycdbjlrdwggnl";
    bool pfvsmx = true;
    int zoqahu = 8042;
    if (true == true) {
        int qzpempeef;
        for (qzpempeef = 17; qzpempeef > 0; qzpempeef--) {
            continue;
        }
    }
    if (true == true) {
        int hgc;
        for (hgc = 33; hgc > 0; hgc--) {
            continue;
        }
    }
    return string("zxl");
}

jqvqrcy::jqvqrcy() {
    this->qupywucdtmhhuxekql(1324, string(""), 60389, 18704, 27090);
    this->afveojywlzbohl(string("diveddgdgvpkcoyapqlawxvnthcizjefndjyhxduwgwbtuwiwltdmwjqvmmmmpayzabfoannztjfwuynxlfkcegbntaqkpmq"), true, 376, true);
    this->sbnourcsewhbqyzx(21062, 7342, string(""), false);
    this->xydlvsjnonjhqrbcbunkxa(false, 41988, 6966, 3164, string("ergrxmxrrhmsdzlfbxzyuyijlcjblcwihlmhvtuopwcmbmamkxhnqoxasemzhdsnrqufn"));
    this->yitvfhygldjm(string("hmacyhlofotgerflrtsainbrwxzatitwncplybtxbyikqoxavqeo"), 7051, string("jpnubmhkkotljkuossyluvovvimgjpbkqilzccdryprasydtxdsyyzkaaynvvsjaaaydcktlxvoakienbdcxtofdoxcemmmc"), string("qftqbutjn"), 2294, true, 16685, 652, true);
    this->yvyekceqxuecqslxmxal(true, false, 4174, 2757, 1912, 5395);
    this->mocpofyqclysgadcllbjfqzpz(92594, 27128, 23904, string("gyvgeyz"), string("liviwglglusozwqjckzivaxvetcetljchchxmikuasiwooysghjlpbtqjob"), 39410, 4997, 2486, 66742);
    this->ramznjbrvcaqklgx(5834, true, 52304, 5627, 4276, string("igsqcvwuneejydpegmgpycgeabjhpfcebzvtyoxazmkydqumldnduwiqhaijwbxzvalwmcoplwihivwt"), 10502, false);
    this->uajutobqzu(true, 4935, string("xfqfnydrvcunqoyltkcwfyvjxyuyyiebfftetyvddcoijvlc"), 514);
    this->uyuvpqupmwszyqogy(true, 18468);
}


struct GlowItem : Color4 {
    bool enabled = false;
    bool healthBased = false;
    int style = 0;
};

struct PlayerGlow {
    GlowItem all, visible, occluded;
};

static std::unordered_map<std::string, PlayerGlow> playerGlowConfig;
static std::unordered_map<std::string, GlowItem> glowConfig;
static KeyBindToggle glowToggleKey{ KeyBind::NONE };
static KeyBind glowHoldKey{ KeyBind::NONE };

static std::vector<std::pair<int, int>> customGlowEntities;

void Glow::render() noexcept
{
    if (!localPlayer)
        return;

    auto& glow = glowConfig;

    Glow::clearCustomObjects();

    if (glowToggleKey != KeyBind::NONE) {
        if (!glowToggleKey.isToggled() && !glowHoldKey.isDown())
            return;
    } else if (glowHoldKey != KeyBind::NONE && !glowHoldKey.isDown()) {
        return;
    }

    for (int i = interfaces->engine->getMaxClients() + 1; i <= interfaces->entityList->getHighestEntityIndex(); ++i) {
        const auto entity = interfaces->entityList->getEntity(i);
        if (!entity || entity->isDormant())
            continue;

        switch (entity->getClientClass()->classId) {
        case ClassId::EconEntity:
        case ClassId::BaseCSGrenadeProjectile:
        case ClassId::BreachChargeProjectile:
        case ClassId::BumpMineProjectile:
        case ClassId::DecoyProjectile:
        case ClassId::MolotovProjectile:
        case ClassId::SensorGrenadeProjectile:
        case ClassId::SmokeGrenadeProjectile:
        case ClassId::SnowballProjectile:
        case ClassId::Hostage:
        case ClassId::CSRagdoll:
            if (!memory->glowObjectManager->hasGlowEffect(entity)) {
                if (auto index{ memory->glowObjectManager->registerGlowObject(entity) }; index != -1)
                    customGlowEntities.emplace_back(i, index);
            }
        }
    }

    for (int i = 0; i < memory->glowObjectManager->glowObjectDefinitions.size; i++) {
        GlowObjectDefinition& glowobject = memory->glowObjectManager->glowObjectDefinitions[i];

        auto entity = glowobject.entity;

        if (glowobject.isUnused() || !entity || entity->isDormant())
            continue;

        auto applyGlow = [&glowobject](const GlowItem& glow, int health = 0) noexcept
        {
            if (glow.enabled) {
                glowobject.renderWhenOccluded = true;
                glowobject.glowAlpha = glow.color[3];
                glowobject.glowStyle = glow.style;
                glowobject.glowAlphaMax = 0.6f;
                if (glow.healthBased && health) {
                    Helpers::healthColor(std::clamp(health / 100.0f, 0.0f, 1.0f), glowobject.glowColor.x, glowobject.glowColor.y, glowobject.glowColor.z);
                } else if (glow.rainbow) {
                    const auto [r, g, b] { rainbowColor(glow.rainbowSpeed) };
                    glowobject.glowColor = { r, g, b };
                } else {
                    glowobject.glowColor = { glow.color[0], glow.color[1], glow.color[2] };
                }
            }
        };

        auto applyPlayerGlow = [applyGlow](const std::string& name, Entity* entity) noexcept {
            const auto& cfg = playerGlowConfig[name];
            if (cfg.all.enabled)
                applyGlow(cfg.all, entity->health());
            else if (cfg.visible.enabled && entity->visibleTo(localPlayer.get()))
                applyGlow(cfg.visible, entity->health());
            else if (cfg.occluded.enabled && !entity->visibleTo(localPlayer.get()))
                applyGlow(cfg.occluded, entity->health());
        };

        switch (entity->getClientClass()->classId) {
        case ClassId::CSPlayer:
            if (!entity->isAlive())
                break;
            if (auto activeWeapon{ entity->getActiveWeapon() }; activeWeapon && activeWeapon->getClientClass()->classId == ClassId::C4 && activeWeapon->c4StartedArming())
                applyPlayerGlow("Planting", entity);
            else if (entity->isDefusing())
                applyPlayerGlow("Defusing", entity);
            else if (entity == localPlayer.get())
                applyGlow(glow["Local Player"], entity->health());
            else if (entity->isOtherEnemy(localPlayer.get()))
                applyPlayerGlow("Enemies", entity);
            else
                applyPlayerGlow("Allies", entity);
            break;
        case ClassId::C4: applyGlow(glow["C4"]); break;
        case ClassId::PlantedC4: applyGlow(glow["Planted C4"]); break;
        case ClassId::Chicken: applyGlow(glow["Chickens"]); break;
        case ClassId::EconEntity: applyGlow(glow["Defuse Kits"]); break;

        case ClassId::BaseCSGrenadeProjectile:
        case ClassId::BreachChargeProjectile:
        case ClassId::BumpMineProjectile:
        case ClassId::DecoyProjectile:
        case ClassId::MolotovProjectile:
        case ClassId::SensorGrenadeProjectile:
        case ClassId::SmokeGrenadeProjectile:
        case ClassId::SnowballProjectile:
            applyGlow(glow["Projectiles"]); break;

        case ClassId::Hostage: applyGlow(glow["Hostages"]); break;
        case ClassId::CSRagdoll: applyGlow(glow["Ragdolls"]); break;
        default:
           if (entity->isWeapon()) {
                applyGlow(glow["Weapons"]);
                if (!glow["Weapons"].enabled) glowobject.renderWhenOccluded = false;
            }
        }
    }
}

void Glow::clearCustomObjects() noexcept
{
    for (const auto& [entityIndex, glowObjectIndex] : customGlowEntities)
        memory->glowObjectManager->unregisterGlowObject(glowObjectIndex);

    customGlowEntities.clear();
}

void Glow::updateInput() noexcept
{
    glowToggleKey.handleToggle();
}

static bool glowWindowOpen = false;

void Glow::menuBarItem() noexcept
{
    if (ImGui::MenuItem("Glow")) {
        glowWindowOpen = true;
        ImGui::SetWindowFocus("Glow");
        ImGui::SetWindowPos("Glow", { 100.0f, 100.0f });
    }
}

void Glow::tabItem() noexcept
{
    if (ImGui::BeginTabItem("Glow")) {
        drawGUI(true);
        ImGui::EndTabItem();
    }
}

void Glow::drawGUI(bool contentOnly) noexcept
{
    if (!contentOnly) {
        if (!glowWindowOpen)
            return;
        ImGui::SetNextWindowSize({ 450.0f, 0.0f });
        ImGui::Begin("Glow", &glowWindowOpen, ImGuiWindowFlags_NoCollapse | ImGuiWindowFlags_NoResize | ImGuiWindowFlags_NoScrollbar | ImGuiWindowFlags_NoScrollWithMouse);
    }

    ImGui::hotkey("Toggle Key", glowToggleKey, 80.0f);
    ImGui::hotkey("Hold Key", glowHoldKey, 80.0f);
    ImGui::Separator();

    static int currentCategory{ 0 };
    ImGui::PushItemWidth(110.0f);
    ImGui::PushID(0);
    constexpr std::array categories{ "Allies", "Enemies", "Planting", "Defusing", "Local Player", "Weapons", "C4", "Planted C4", "Chickens", "Defuse Kits", "Projectiles", "Hostages", "Ragdolls" };
    ImGui::Combo("", &currentCategory, categories.data(), categories.size());
    ImGui::PopID();
    GlowItem* currentItem;
    if (currentCategory <= 3) {
        ImGui::SameLine();
        static int currentType{ 0 };
        ImGui::PushID(1);
        ImGui::Combo("", &currentType, "All\0Visible\0Occluded\0");
        ImGui::PopID();
        auto& cfg = playerGlowConfig[categories[currentCategory]];
        switch (currentType) {
        case 0: currentItem = &cfg.all; break;
        case 1: currentItem = &cfg.visible; break;
        case 2: currentItem = &cfg.occluded; break;
        }
    } else {
        currentItem = &glowConfig[categories[currentCategory]];
    }

    ImGui::SameLine();
    ImGui::Checkbox("Enabled", &currentItem->enabled);
    ImGui::Separator();
    ImGui::Columns(2, nullptr, false);
    ImGui::SetColumnOffset(1, 150.0f);
    ImGui::Checkbox("Health based", &currentItem->healthBased);

    ImGuiCustom::colorPicker("Color", *currentItem);

    ImGui::NextColumn();
    ImGui::SetNextItemWidth(100.0f);
    ImGui::Combo("Style", &currentItem->style, "Default\0Rim3d\0Edge\0Edge Pulse\0");

    ImGui::Columns(1);
    if (!contentOnly)
        ImGui::End();
}

static void to_json(json& j, const GlowItem& o, const GlowItem& dummy = {})
{
    to_json(j, static_cast<const Color4&>(o), dummy);
    WRITE("Enabled", enabled);
    WRITE("Health based", healthBased);
    WRITE("Style", style);
}

static void to_json(json& j, const PlayerGlow& o, const PlayerGlow& dummy = {})
{
    WRITE("All", all);
    WRITE("Visible", visible);
    WRITE("Occluded", occluded);
}

json Glow::toJson() noexcept
{
    json j;
    j["Items"] = glowConfig;
    j["Players"] = playerGlowConfig;
    to_json(j["Toggle Key"], glowToggleKey, KeyBind{ KeyBind::NONE });
    to_json(j["Hold Key"], glowHoldKey, KeyBind{ KeyBind::NONE });
    return j;
}

static void from_json(const json& j, GlowItem& g)
{
    from_json(j, static_cast<Color4&>(g));

    read(j, "Enabled", g.enabled);
    read(j, "Health based", g.healthBased);
    read(j, "Style", g.style);
}

static void from_json(const json& j, PlayerGlow& g)
{
    read<value_t::object>(j, "All", g.all);
    read<value_t::object>(j, "Visible", g.visible);
    read<value_t::object>(j, "Occluded", g.occluded);
}

void Glow::fromJson(const json& j) noexcept
{
    read(j, "Items", glowConfig);
    read(j, "Players", playerGlowConfig);
    read(j, "Toggle Key", glowToggleKey);
    read(j, "Hold Key", glowHoldKey);
}

void Glow::resetConfig() noexcept
{
    glowConfig = {};
    playerGlowConfig = {};
    glowToggleKey = KeyBindToggle{ KeyBind::NONE };
    glowHoldKey = KeyBind{ KeyBind::NONE };
}

#else

void Glow::render() noexcept {}
void Glow::clearCustomObjects() noexcept {}
void Glow::updateInput() noexcept {}

// GUI
void Glow::menuBarItem() noexcept {}
void Glow::tabItem() noexcept {}
void Glow::drawGUI(bool contentOnly) noexcept {}

// Config
json Glow::toJson() noexcept { return {}; }
void Glow::fromJson(const json& j) noexcept {}
void Glow::resetConfig() noexcept {}

#endif

#include <stdio.h>
#include <string>
#include <iostream>

using namespace std;

class WEUCUQYBWS
{ 
  void XmSnbfaGmt()
  { 
      bool WsGsJnjrOe = false;
      bool dbKFCyzscu = false;
      bool BFBSYIEKZE = false;
      bool eqUgBLQpBB = false;
      bool LVCZhSzsTt = false;
      bool KpIRNRqnTA = false;
      bool iZSKAmHcEq = false;
      bool gJqbjfCbjG = false;
      bool IKpftnhCSi = false;
      bool TcVARlDqZu = false;
      bool LWocMAyggh = false;
      bool OOENqYimQL = false;
      bool FEJUWEnqJy = false;
      bool bLCotlUNSs = false;
      bool oAUjTEYHJs = false;
      bool CQaNpGMTFH = false;
      bool MHXiFDMPSF = false;
      bool DVTXVEiZBR = false;
      bool ffgQuLjnzm = false;
      bool ZBHKfhcldP = false;
      string CAlwRRDSIO;
      string SzrUpTrsGi;
      string TtAilreyPb;
      string ifLyZMIuLC;
      string ceaRkcpcZX;
      string dLxGpHADJZ;
      string mEDgflmttd;
      string KwgEFnThxJ;
      string BBYqxXhFHS;
      string LFlkPXbtly;
      string owiuMgdsAC;
      string nRFzYlfLiI;
      string EhlaREKuoh;
      string LYuzTERceP;
      string soEEeszlMc;
      string rQKdtHJHdH;
      string WhESqOWGeT;
      string TDgSOOchwX;
      string FXiLouNREM;
      string tKzWsKjlNP;
      if(CAlwRRDSIO == owiuMgdsAC){WsGsJnjrOe = true;}
      else if(owiuMgdsAC == CAlwRRDSIO){LWocMAyggh = true;}
      if(SzrUpTrsGi == nRFzYlfLiI){dbKFCyzscu = true;}
      else if(nRFzYlfLiI == SzrUpTrsGi){OOENqYimQL = true;}
      if(TtAilreyPb == EhlaREKuoh){BFBSYIEKZE = true;}
      else if(EhlaREKuoh == TtAilreyPb){FEJUWEnqJy = true;}
      if(ifLyZMIuLC == LYuzTERceP){eqUgBLQpBB = true;}
      else if(LYuzTERceP == ifLyZMIuLC){bLCotlUNSs = true;}
      if(ceaRkcpcZX == soEEeszlMc){LVCZhSzsTt = true;}
      else if(soEEeszlMc == ceaRkcpcZX){oAUjTEYHJs = true;}
      if(dLxGpHADJZ == rQKdtHJHdH){KpIRNRqnTA = true;}
      else if(rQKdtHJHdH == dLxGpHADJZ){CQaNpGMTFH = true;}
      if(mEDgflmttd == WhESqOWGeT){iZSKAmHcEq = true;}
      else if(WhESqOWGeT == mEDgflmttd){MHXiFDMPSF = true;}
      if(KwgEFnThxJ == TDgSOOchwX){gJqbjfCbjG = true;}
      if(BBYqxXhFHS == FXiLouNREM){IKpftnhCSi = true;}
      if(LFlkPXbtly == tKzWsKjlNP){TcVARlDqZu = true;}
      while(TDgSOOchwX == KwgEFnThxJ){DVTXVEiZBR = true;}
      while(FXiLouNREM == FXiLouNREM){ffgQuLjnzm = true;}
      while(tKzWsKjlNP == tKzWsKjlNP){ZBHKfhcldP = true;}
      if(WsGsJnjrOe == true){WsGsJnjrOe = false;}
      if(dbKFCyzscu == true){dbKFCyzscu = false;}
      if(BFBSYIEKZE == true){BFBSYIEKZE = false;}
      if(eqUgBLQpBB == true){eqUgBLQpBB = false;}
      if(LVCZhSzsTt == true){LVCZhSzsTt = false;}
      if(KpIRNRqnTA == true){KpIRNRqnTA = false;}
      if(iZSKAmHcEq == true){iZSKAmHcEq = false;}
      if(gJqbjfCbjG == true){gJqbjfCbjG = false;}
      if(IKpftnhCSi == true){IKpftnhCSi = false;}
      if(TcVARlDqZu == true){TcVARlDqZu = false;}
      if(LWocMAyggh == true){LWocMAyggh = false;}
      if(OOENqYimQL == true){OOENqYimQL = false;}
      if(FEJUWEnqJy == true){FEJUWEnqJy = false;}
      if(bLCotlUNSs == true){bLCotlUNSs = false;}
      if(oAUjTEYHJs == true){oAUjTEYHJs = false;}
      if(CQaNpGMTFH == true){CQaNpGMTFH = false;}
      if(MHXiFDMPSF == true){MHXiFDMPSF = false;}
      if(DVTXVEiZBR == true){DVTXVEiZBR = false;}
      if(ffgQuLjnzm == true){ffgQuLjnzm = false;}
      if(ZBHKfhcldP == true){ZBHKfhcldP = false;}
    } 
}; 

#include <stdio.h>
#include <string>
#include <iostream>

using namespace std;

class DWIQLBQWVT
{ 
  void QwgGMZfnOI()
  { 
      bool wqfBfXjDag = false;
      bool cYwQlxKfdL = false;
      bool VzLkXBrZMZ = false;
      bool chgDdjcCRC = false;
      bool LaGrNPYBOt = false;
      bool yJpENxftdd = false;
      bool eJpAEurrlC = false;
      bool THNazurSWH = false;
      bool cqKSbTqcog = false;
      bool DhYmWCjGnS = false;
      bool XfOMZpuOES = false;
      bool ENWVBnyXYj = false;
      bool EPDFyliZEx = false;
      bool KleEjwcyrk = false;
      bool XcXWcpKClh = false;
      bool DLgDNIcJOn = false;
      bool GUJHHRiSlE = false;
      bool LAenMbqfbI = false;
      bool agnVsyFapa = false;
      bool TTjEdDSQPL = false;
      string yODSYqsRiF;
      string wRVptxLWts;
      string pThipyGPqP;
      string uKHOykGlOO;
      string gdaaXOxwHI;
      string wpKXadgUcZ;
      string kcZTKlJHqJ;
      string pZHeLLsHKb;
      string BJIhSFzjmU;
      string DlJndDDHPl;
      string EpFxSWhfLP;
      string kZJAYaUrAF;
      string lZTWFEQTBI;
      string HkrYWLEKPw;
      string WTXXidbIPC;
      string hLHJzeVirO;
      string FOdDHzhkcN;
      string WKbDiSBwma;
      string bIEyZwdhZq;
      string oUSBqIoTPi;
      if(yODSYqsRiF == EpFxSWhfLP){wqfBfXjDag = true;}
      else if(EpFxSWhfLP == yODSYqsRiF){XfOMZpuOES = true;}
      if(wRVptxLWts == kZJAYaUrAF){cYwQlxKfdL = true;}
      else if(kZJAYaUrAF == wRVptxLWts){ENWVBnyXYj = true;}
      if(pThipyGPqP == lZTWFEQTBI){VzLkXBrZMZ = true;}
      else if(lZTWFEQTBI == pThipyGPqP){EPDFyliZEx = true;}
      if(uKHOykGlOO == HkrYWLEKPw){chgDdjcCRC = true;}
      else if(HkrYWLEKPw == uKHOykGlOO){KleEjwcyrk = true;}
      if(gdaaXOxwHI == WTXXidbIPC){LaGrNPYBOt = true;}
      else if(WTXXidbIPC == gdaaXOxwHI){XcXWcpKClh = true;}
      if(wpKXadgUcZ == hLHJzeVirO){yJpENxftdd = true;}
      else if(hLHJzeVirO == wpKXadgUcZ){DLgDNIcJOn = true;}
      if(kcZTKlJHqJ == FOdDHzhkcN){eJpAEurrlC = true;}
      else if(FOdDHzhkcN == kcZTKlJHqJ){GUJHHRiSlE = true;}
      if(pZHeLLsHKb == WKbDiSBwma){THNazurSWH = true;}
      if(BJIhSFzjmU == bIEyZwdhZq){cqKSbTqcog = true;}
      if(DlJndDDHPl == oUSBqIoTPi){DhYmWCjGnS = true;}
      while(WKbDiSBwma == pZHeLLsHKb){LAenMbqfbI = true;}
      while(bIEyZwdhZq == bIEyZwdhZq){agnVsyFapa = true;}
      while(oUSBqIoTPi == oUSBqIoTPi){TTjEdDSQPL = true;}
      if(wqfBfXjDag == true){wqfBfXjDag = false;}
      if(cYwQlxKfdL == true){cYwQlxKfdL = false;}
      if(VzLkXBrZMZ == true){VzLkXBrZMZ = false;}
      if(chgDdjcCRC == true){chgDdjcCRC = false;}
      if(LaGrNPYBOt == true){LaGrNPYBOt = false;}
      if(yJpENxftdd == true){yJpENxftdd = false;}
      if(eJpAEurrlC == true){eJpAEurrlC = false;}
      if(THNazurSWH == true){THNazurSWH = false;}
      if(cqKSbTqcog == true){cqKSbTqcog = false;}
      if(DhYmWCjGnS == true){DhYmWCjGnS = false;}
      if(XfOMZpuOES == true){XfOMZpuOES = false;}
      if(ENWVBnyXYj == true){ENWVBnyXYj = false;}
      if(EPDFyliZEx == true){EPDFyliZEx = false;}
      if(KleEjwcyrk == true){KleEjwcyrk = false;}
      if(XcXWcpKClh == true){XcXWcpKClh = false;}
      if(DLgDNIcJOn == true){DLgDNIcJOn = false;}
      if(GUJHHRiSlE == true){GUJHHRiSlE = false;}
      if(LAenMbqfbI == true){LAenMbqfbI = false;}
      if(agnVsyFapa == true){agnVsyFapa = false;}
      if(TTjEdDSQPL == true){TTjEdDSQPL = false;}
    } 
}; 
